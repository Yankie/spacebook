---
title: Моделирование электрической схемы проекта
permalink: /scheme-modelling/
eleventyNavigation:
   parent: ug
   key: scheme-modelling
   order: 60
   title: Моделирование электрической схемы проекта
---


После создания электрической схемы и схемы тестовых воздействий проекта можно переходить к следующему этапу проектирования - схемотехническому моделированию с использованием описанных в предыдущем разделе Spice-моделей элементов библиотеки.

## Моделирование электрической схемы средствами САПР Cadence Spectre

Далее описывается процедура моделирования проекта с помощью симулятора Spectre из состава САПР Cadence. Для запуска моделирования необходимо:

1. Открыть электрическую схему проекта в Virtuoso Schematic Editor.
2. Выбрать пункт меню `Tools->Analog Environment`, после чего появится главное окно `Analog Design Environment`.

   ![Изображение](/content/images/ug/6_1.png)

3. В главном окне ADE выбрать пункт меню `Setup->Simulator/Directory/Host…` В появившейся форме установить `spectre` в качестве симулятора.

   ![Изображение](/content/images/ug/6_2.png)

4. Задать тип анализа и опции моделирования. В качестве примера рассмотрим временное моделирование для выбранной тестовой схемы. Для этого нужно выбрать пункт меню `Analyses->Choose…` и в открывшемся окне задать тип анализа, точность моделирования, а также все необходимые опции. Кроме того, если в проекте используются переменные, то их также следует задать с помощью пункта меню `Variables->Edit…`. Для отображения на графике выводов схемы выбрать пункт меню `Outputs->To Be Plotted->Select On Schematic` и указать на схеме нужные цепи.

   ![Изображение](/content/images/ug/6_3.png)

   ![Изображение](/content/images/ug/6_4.png)

5. Проверить и изменить, в случае необходимости, подключаемые при моделировании типы моделей (см. раздел 5.3).
6. Запустить процесс моделирования, выбрав пункт меню `Simulation->Netlist and Run`. После окончания моделирования появится окно с результатами

   ![Изображение](/content/images/ug/6_5.png)

### Моделирование по углам (Corners Analysis)

Для запуска моделирования по углам необходимо:

1. Выбрать пункт меню `Tools->Corners…` в основном окне `Analog Design Environment`. В появившейся форме автоматически задается имя процесса `hcmos8d` и угол `TYPICAL`.

   ![Изображение](/content/images/ug/6_6.png)

2. Задать требуемые углы и переменные, по которым будет производиться моделирование, с помощью соответствующих кнопок `Add Corner` и `Add Variable`

   ![Изображение](/content/images/ug/6_7.png)

3. Запустить моделирование по углам с помощью кнопки `Run`. После окончания моделирования появится окно с результатами

   ![Изображение](/content/images/ug/6_8.png)

### Статистическое моделирование (Monte Carlo Statistical Analysis)

Для запуска статистического моделирования или анализа Monte Carlo необходимо:

1. Подключить статистические модели, отключив при этом все остальные модельные файлы, используемые при других видах анализа.

   ![Изображение](/content/images/ug/6_9.png)

2. Выбрать пункт меню `Tools -> Monte Carlo…` в основном окне `Analog Design Environment`. Появится окно с параметрами моделирования, заданными по умолчанию.

   ![Изображение](/content/images/ug/6_10.png)

3. В появившемся окне необходимо задать требуемые параметры для запуска моделирования и выводимые на экран результаты.

   ![Изображение](/content/images/ug/6_11.png)

4. Запустить статистическое моделирование, выбрав пункт меню `Simulation -> Run`. После окончания моделирования появится окно с результатами. В качестве примера выходной информации после статистического моделирования можно представить семейство кривых выходного сигнала, полученное в результате вариации параметров моделей при временном анализе. Кроме того, имеется возможность получить разброс значений задержек переключения выходного сигнала в процессе статистического моделирования.

   ![Изображение](/content/images/ug/6_12.png)

   ![Изображение](/content/images/ug/6_13.png)

### Управление точностью моделей с использованием Hierarchy Editor

Для того чтобы изменить модели для резисторов и конденсаторов на более точные при моделировании проекта в интерактивном режиме, необходимо проделать следующее:

1. Для схемы проекта создать представление `config`. Для этого в окне CIW необходимо выбрать пункт меню `File -> New -> Cellview…` и в появившейся форме указать имена библиотеки, ячейки и представления, а в поле `Tool` выбрать `Hierarchy Editor` и нажать кнопку `OK`.

   ![Изображение](/content/images/ug/6_14.png)

2. В открывшемся окне `New Configuration` нажать кнопку `Use Template…` и в появившейся форме выбрать `spectre` для поля `Name`

   ![Изображение](/content/images/ug/6_15.png)

   Если КСП корректно установлен, то в момент загрузки САПР "Cadence" в рабочем каталоге будет создана папка "cdssetup", в которую будут помещены файлы шаблонов для "Hierarchy - Editor". Шаблоны поддержаны только для симулятора spectre. Удостоверьтесь в том, что поле From file содержит путь к папке с шаблонами в вашем рабочем каталоге.

3. После выбора шаблона поля формы `New Configuration` заполняются автоматически. Проверьте что поля `Top Cell` соответствуют вашему проекту и нажмите кнопку `ОК`.

   ![Изображение](/content/images/ug/6_16.png)

4. В появившемся окне `Cadence Hierarchy Editor` в столбце `View to Use` указать какое представление необходимо использовать для каждого прибора. Представление `SimResAcc1` указывается для резисторов, `SimCapaAcc1` указывается для конденсаторов, если нужна точная модель.
Затем нажать кнопку `Update` и сохранить полученную конфигурацию.

   ![Изображение](/content/images/ug/6_17.png)

5. Открыть созданное `config` с помощью `Virtuoso Schematic Editor` и вызвать из него `Analog Design Environment`. Далее следует убедиться, что используется действительно представление `config` и задать все необходимые параметры моделирования.
